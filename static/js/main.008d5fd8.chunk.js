(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,a){e.exports={App:"App__App__1o-Fp"}},41:function(e,t,a){e.exports={Sides:"Sides__Sides__27VFx"}},42:function(e,t,a){e.exports={Properties:"Properties__Properties__lya4t"}},43:function(e,t,a){e.exports={Rating:"Property__Rating__11sO5"}},45:function(e,t,a){e.exports={Myproperties:"Myproperties__Myproperties__1aWVK"}},46:function(e,t,a){e.exports={Modal:"Modal__Modal__1GCRt"}},47:function(e,t,a){e.exports={Backdrop:"Backdrop__Backdrop__3JyJ9"}},48:function(e,t,a){e.exports={Login:"Login__Login__2WQlh"}},50:function(e,t,a){e.exports={Details:"Details__Details__2GRwb"}},51:function(e,t,a){e.exports=a(81)},56:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(21),o=a.n(s),l=(a(56),a(8)),c=a(9),i=a(11),m=a(10),p=a(12),d=a(40),u=a.n(d),h=a(15),g=a(16),f=a(25),b=a(41),E=a.n(b),v=function(e){return n.a.createElement("div",{className:E.a.Sides,style:{float:"left"}},n.a.createElement("div",{className:"card bg-dark text-light",style:{margin:"auto",width:"90%",boxSizing:"border-box",boxShadow:"0 0 5px 2px"}},n.a.createElement("div",{className:"card-header"},n.a.createElement("h5",null,"Filters")),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{type:"button",className:"btn btn-primary btn-block dropdown-toggle","data-toggle":"dropdown"},"Rating Filter"),n.a.createElement("div",{className:"dropdown-menu"},n.a.createElement("button",{className:"dropdown-item card-text",value:"4",onClick:function(t){return e.filter(4)}},"4 & above"),n.a.createElement("button",{className:"dropdown-item card-text",value:"3",onClick:function(t){return e.filter(3)}},"3 & above"),n.a.createElement("button",{className:"dropdown-item card-text",value:"2",onClick:function(t){return e.filter(2)}},"2 & above"),n.a.createElement("button",{className:"dropdown-item card-text",value:"1",onClick:function(t){return e.filter(1)}},"1 & above"))))),n.a.createElement("div",{className:"card bg-dark text-light",style:{margin:"auto",width:"90%",boxSizing:"border-box",boxShadow:"0 0 5px 2px"}},n.a.createElement("div",{className:"card-header"},n.a.createElement("h5",null,"Sort")),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{type:"button",className:"btn btn-primary btn-block dropdown-toggle","data-toggle":"dropdown"},"Rating"),n.a.createElement("div",{className:"dropdown-menu"},n.a.createElement("button",{className:"dropdown-item card-text",onClick:e.ascending},"Ascending"),n.a.createElement("button",{className:"dropdown-item card-text",onClick:e.descending},"Descending"))))))},y=a(13),N=a.n(y),w=a(42),x=a.n(w),k=a(43),O=a.n(k),j=a(1),S=a.n(j),D=Object(g.g)(function(e){var t=[];if(e.prop.propertyRating)for(var a=0;a<e.prop.propertyRating;a++)t.push(n.a.createElement("span",{key:"span"+a},n.a.createElement("i",{className:"fa fa-star",style:{color:"orange",margin:"0 0.5rem"}})));return e.prop.propertyName?n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header text-center"},n.a.createElement("h5",null,e.prop.propertyName)),n.a.createElement("img",{src:"Slide1.jpg",style:{width:"100%",height:"100%"},className:"card-image",alt:""}),n.a.createElement("div",{className:"card-body",style:{textAlign:"left"}},n.a.createElement("div",null,n.a.createElement("span",{style:{fontWeight:"bold"}},"Price: "),n.a.createElement("span",null,e.prop.propertyPrice)),n.a.createElement("div",null,n.a.createElement("span",{style:{float:"left",fontWeight:"bold"}},"Ratings: "),n.a.createElement("div",{className:O.a.Rating,style:{textAlign:"left"}},t)),n.a.createElement("div",null,n.a.createElement("span",{style:{fontWeight:"bold"}},"Amenities: "),n.a.createElement("span",null,e.prop.propertyAmenities.join(" ")))),n.a.createElement("div",{className:"class-footer"},n.a.createElement("button",{onClick:function(){S.a.set("property",e.prop),e.history.push("/propertyDets")},className:"btn btn-primary btn-block"},"Details"))):n.a.createElement("h2",{className:"display-4 text-dark text-center"},"Something Went Wrong")}),_=function(e){return n.a.createElement("div",{className:x.a.Properties},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},e.properties.map(function(e,t){return n.a.createElement("div",{key:"property"+t,className:"col-md-4 mb-2"},n.a.createElement(D,{prop:e}))}))))},C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={properties:[],propertiescopy:[]},a.compareAsc=function(e,t){return e.propertyRating<t.propertyRating?-1:1},a.compareDesc=function(e,t){return e.propertyRating>t.propertyRating?-1:1},a.sortAsc=function(){var e=Object(f.a)(a.state.propertiescopy);e.sort(a.compareAsc),a.setState({propertiescopy:e})},a.sortDesc=function(){var e=Object(f.a)(a.state.propertiescopy);e.sort(a.compareDesc),a.setState({propertiescopy:e})},a.filter=function(e){var t=Object(f.a)(a.state.properties).filter(function(t){return t.propertyRating>=e});a.setState({propertiescopy:t})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;N.a.get("http://localhost:1050/getproperties").then(function(t){t.data.res?(console.log("true"),console.log(t.data.properties),e.setState({properties:t.data.properties,propertiescopy:t.data.properties})):e.setState({properties:[],propertiescopy:[]})}).catch(function(t){e.setState({properties:[],propertiescopy:[]})})}},{key:"render",value:function(){return 0===this.state.properties.length?n.a.createElement("h2",{className:"text-dark display-4",style:{marginTop:"70px"}},"Something Went Wrong",n.a.createElement("br",null),"No Properties to show"):n.a.createElement("div",null,n.a.createElement(v,{filter:this.filter,ascending:this.sortAsc,descending:this.sortDesc}),n.a.createElement(_,{properties:this.state.propertiescopy}))}}]),t}(r.Component),M=a(45),I=a.n(M),A=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={properties:[]},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;N.a.get("http://localhost:1050/get-properties/"+S.a.get("userID")).then(function(t){t.data?e.setState({properties:t.data}):e.setState({properties:[]})}).catch(function(t){e.setState({properties:[]})})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:I.a.Myproperties},S.a.get("userID")?this.state.properties.length>0?n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},this.state.properties.map(function(t){return n.a.createElement("div",{className:"col-md-4 mb-2"},n.a.createElement(D,{prop:t}),n.a.createElement("button",{onClick:function(){S.a.set("property",t),e.props.history.push("/edit-details")},className:"btn btn-dark text-warning btn-block"},"Edit Details"))}))):n.a.createElement("h2",{className:"text-dark display-4"},"No properties to show, Add some First"):n.a.createElement("h2",{className:"text-dark display-4"},"Something went Wrong, Please Login First"))}}]),t}(r.Component),P=Object(g.g)(A),R=a(17),W="http://localhost:1050/add-property/",L="http://localhost:1050/updateProperty/",F=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleUpdate=function(e){e.preventDefault();var t=Object(R.a)({},a.state.form);t.amenities=t.amenities.split(" "),N.a.put(L+S.a.get("userID"),t).then(function(e){e.data.res?a.setState({successMessage:e.data.message,errorMessage:""}):a.setState({successMessage:"",errorMessage:e.data.message})}).catch(function(e){a.setState({successMessage:"",errorMessage:e.response.data.message})})},a.handleSubmit=function(e){e.preventDefault();var t=Object(R.a)({},a.state.form);t.amenities=t.amenities.split(" "),N.a.post(W+S.a.get("userID"),t).then(function(e){e.data.res?a.setState({successMessage:e.data.message,errorMessage:""}):a.setState({successMessage:"",errorMessage:e.data.message})}).catch(function(e){a.setState({successMessage:"",errorMessage:e.response.data.message})})},a.handleChange=function(e){var t=e.target.name,r=e.target.value,n=a.state.form;n[t]=r,a.setState({form:n}),a.validate(t,r)},a.state={form:{price:"",name:"",rating:"",amenities:""},formErrors:{price:"",name:"",rating:"",amenities:""},formValid:{price:!1,name:!1,rating:!1,amenities:!1},valid:!!a.props.property,successMessage:"",errorMessage:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"validate",value:function(e,t){var a=!0,r=this.state.formValid,n=this.state.formErrors;""===t?(n[e]="Field Required",r[e]=!1):(n[e]="",r[e]=!0),"rating"===e&&(Number(t)>5?(n.rating="Rating cannot be more than 5",r.rating=!1):(n.rating="",r.rating=!0));for(var s=0,o=Object.values(r);s<o.length;s++){var l=o[s];a=a&&Boolean(l)}this.setState({formErrors:n,formValid:r,valid:a})}},{key:"render",value:function(){return this.props.property&&console.log(this.props.property),n.a.createElement("div",{className:"container",style:{position:"absolute",top:"10%",left:"10%"}},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6 offset-md-3"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header bg-dark text-secondary text-center"},n.a.createElement("h5",{className:"display-4 text-secondary"},"Add a Property")),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form"},n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Name:"),n.a.createElement("input",{className:"form-control",name:"name",type:"text",value:this.state.form.name,placeholder:this.props.property?this.props.property.propertyName:null,onChange:this.handleChange,required:!0,autoFocus:!0}),n.a.createElement("span",{className:"text-danger"},this.state.formErrors.name)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Price:"),n.a.createElement("input",{className:"form-control",name:"price",type:"text",value:this.state.form.price,placeholder:this.props.property?this.props.property.propertyPrice:null,onChange:this.handleChange,required:!0}),n.a.createElement("span",{className:"text-danger"},this.state.formErrors.price)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Rating:"),n.a.createElement("input",{className:"form-control",name:"rating",type:"number",value:this.state.form.rating,placeholder:this.props.property?this.props.property.propertyRating:null,onChange:this.handleChange,required:!0}),n.a.createElement("span",{className:"text-danger"},this.state.formErrors.rating)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Amenities:"),n.a.createElement("input",{className:"form-control",name:"amenities",type:"text",value:this.state.form.amenities,placeholder:this.props.property?this.props.property.propertyAmenities.join(" "):null,onChange:this.handleChange,required:!0}),n.a.createElement("span",{className:"text-danger"},this.state.formErrors.amenities)),n.a.createElement("div",{className:"form-group"},this.props.property?n.a.createElement("button",{onClick:this.handleUpdate,disabled:!this.state.valid,className:"btn btn-primary btn-block"},"Update Property"):n.a.createElement("button",{onClick:this.handleSubmit,disabled:!this.state.valid,className:"btn btn-primary btn-block"},"Add Property")),this.state.successMessage?n.a.createElement("span",{className:"text-success"},this.state.successMessage):null,this.state.errorMessage?n.a.createElement("span",{className:"text-danger"},this.state.errorMessage):null)))))))}}]),t}(r.Component),q=a(46),V=a.n(q),B=function(e){return e.children},U=a(47),G=a.n(U),J=function(e){return e.show?n.a.createElement("div",{className:G.a.Backdrop,onClick:e.closemodal}):null},z=function(e){return n.a.createElement(B,null,n.a.createElement(J,{show:e.show,closemodal:e.closemodal}),n.a.createElement("div",{className:V.a.Modal,style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"}},e.children))},T=a(48),Y=a.n(T),H=a(24),K="http://localhost:1050/Login",Q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={form:{custID:"",password:""},formErrors:{custID:"",password:""},formValid:{custID:!1,password:!1},valid:!1,errorMessage:""},a.handleChange=function(e){var t=e.target.name,r=e.target.value,n=a.state.form;n[t]=r,a.setState({form:n}),a.validate(t,r)},a.validate=function(e,t){var r,n=a.state.formErrors,s=a.state.formValid;""===t?(n[e]="Field required",s[e]=!1):(n[e]="",s[e]=!0),r=s.custID&&s.password,a.setState({formErrors:n,valid:r,formValid:s})},a.handleSubmit=function(e){e.preventDefault(),N.a.post(K,a.state.form).then(function(e){console.log("response",e),e.data?(S.a.set("userID",e.data),a.props.closemodal()):a.setState({errorMessage:"Invalid username or password"})}).catch(function(e){a.setState({errorMessage:"Please start your server first"})})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:Y.a.Login},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header bg-dark"},n.a.createElement("h5",{className:"text-info display-4"},"Login")),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form"},n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"font-weight-bold text-left"},"User ID:"),n.a.createElement("input",{name:"custID",type:"text",className:"form-control",onChange:this.handleChange,value:this.state.form.custID,required:!0,autoFocus:!0}),n.a.createElement("span",{className:"text-danger"},this.state.formErrors.custID)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"font-weight-bold"},"Password:"),n.a.createElement("input",{name:"password",type:"password",className:"form-control",onChange:this.handleChange,value:this.state.form.password,required:!0}),n.a.createElement("span",{className:"text-danger"},this.state.formErrors.password)),this.state.errorMessage?n.a.createElement("span",{className:"text-danger"},this.state.errorMessage):null))),n.a.createElement("div",{className:"card-footer"},n.a.createElement("button",{type:"submit",disabled:!this.state.valid,onClick:this.handleSubmit,className:"btn btn-primary btn-block"},"Submit"))))}}]),t}(r.Component),$=Object(H.b)(null,function(e){return{login:function(t){return e({type:"LOGIN",id:t})}}})(Q),X=a(50),Z=a.n(X),ee=function(e){return n.a.createElement("div",{className:Z.a.Details},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6 offset-md-3"},n.a.createElement(D,{prop:S.a.get("property")})))))},te=function(e){return n.a.createElement("div",null,n.a.createElement(F,{property:S.a.get("property")}))},ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).showmodal=function(){a.setState({show:!0})},a.closemodal=function(){a.setState({show:!1})},a.state={show:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){S.a.clear()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:u.a.App},n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",style:{position:"fixed",top:"0",zIndex:"10",width:"100%"}},n.a.createElement("span",{className:"navbar-brand"},"Property Dekho"),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"collapsibleNavbar"},n.a.createElement("ul",{className:"navbar-nav"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(h.b,{className:"nav-link",to:"/home"},"Home")),S.a.get("userID")?n.a.createElement(B,null,n.a.createElement("li",{className:"nav-item"},n.a.createElement(h.b,{className:"nav-link",to:"/add-property"},"Add Properties")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(h.b,{className:"nav-link",to:"/my-properties"},"My Properties"))):null),n.a.createElement("ul",{className:"navbar-nav ml-auto"},n.a.createElement("li",{className:"nav-item"},S.a.get("userID")?n.a.createElement("button",{style:{display:"inline"},onClick:function(){S.a.set("userID",""),S.a.set("property",{}),e.props.history.replace("/home")},className:"nav-link btn bg-light text-dark"},"Logout"):n.a.createElement("button",{style:{display:"inline"},onClick:this.showmodal,className:"nav-link btn bg-light text-dark"},"Login"))))),n.a.createElement(z,{show:this.state.show,closemodal:this.closemodal},n.a.createElement($,{closemodal:this.closemodal})),n.a.createElement(g.d,null,n.a.createElement(g.b,{path:"/home",component:C}),n.a.createElement(g.b,{path:"/add-property",component:F}),n.a.createElement(g.b,{path:"/my-properties",component:P}),n.a.createElement(g.b,{path:"/propertyDets",component:ee}),n.a.createElement(g.b,{path:"/edit-details",component:te}),n.a.createElement(g.b,{path:"/",component:C}),n.a.createElement(g.b,{path:"*",render:function(){return n.a.createElement(g.a,{to:"/home"})}})))}}]),t}(r.Component),re=Object(g.g)(ae);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=a(23),se={loggedIn:!1,customerID:"",property:{}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(R.a)({},e,{loggedIn:!0,customerID:t.id});case"LOGOUT":return Object(R.a)({},e,{loggedIn:!1,customerID:""});case"ADD_PROPERTY":return Object(R.a)({},e,{property:Object(R.a)({},t.property)});default:return e}},le=Object(ne.b)(oe);o.a.render(n.a.createElement(H.a,{store:le},n.a.createElement(h.a,null,n.a.createElement(re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[51,1,2]]]);
//# sourceMappingURL=main.008d5fd8.chunk.js.map